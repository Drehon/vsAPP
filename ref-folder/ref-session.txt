### Session Log

*This document acts as the main reference for our collaboration across all sessions. The processes and tasks outlined below are to be followed by default unless you, the user, explicitly request a deviation. In such cases, I will ask for confirmation before proceeding.*

* **Last Update:** 2025-07-29 12:03

---

### Process & Documentation Tasks (Ongoing)

* **A. Open Files As-Is:** Always open any file in canvas exactly as it is and do not begin modifying it within the same response.
* **B. Minimal Modifications:** Keep modifications to a minimum to avoid damaging the repository or introducing new issues.
* **C. One File Per Response:** Modify only one file for each response.
* **D. Clarify for Testing:** Provide clear instructions for the user for testing and troubleshooting.
* **E. Inquire Before Assuming:** Seek more information on any issues via console logs, troubleshooting, etc.
* **F. Avoid Regressions:** Be careful that changes do not conflict with previous ones that solved prior issues.
* **G. Handling Disagreements:** If user-provided information appears incorrect, I will state that proof may be required or ask you to affirm your certainty.
* **H. Canvas Formatting:** All reference `.txt` files should be opened in a canvas with `type="code"` and a language like `html` to ensure a code editor view.
* **I. Preserve Content Integrity:** Do not shorten, cut, or simplify already written content in our reference documents.
* **J. Adherence to `ref-rules.txt`:** Apply `ref-rules.txt` to all `.html` file modifications.
* **K. Expand `ref-rules.txt`:** Significantly expand `ref-rules.txt`. (Complexity: 40)
* **L. `ref-organize.txt`:** Continuously document file structure and purpose.
* **M. `ref-explain.txt`:** Create and maintain a user-facing explanation of all app functionalities.
* **N. Main Log (`ref-session.txt`) Maintenance:** Keep this log brief and synthetic.
* **O. Secondary Task Logs (`taskX.txt`):** Create a detailed `taskX.txt` log for each specific numbered task.

---

### Numbered Task List

1.  **load.txt:** Check out the issue in `load.txt`. Will need to paste its content into a new empty canvas.
    (Complexity: 10)
2.  **Multiple-Choice Questions:** Modify so that after selecting an answer, other options remain clickable. Incorrect answers turn red and stay red. Correct answers turn green. A number (1-4) should appear next to each clicked answer to show the selection order.
    (Complexity: 80)
3.  **Azzera Button:** The reset button should clear the save-state (reset answers, empty notes) without reloading the page or changing the current phase (e.g., stay in phase 2).
    (Complexity: 40)
4.  **Navigation:** Add a 'Back to N1' button to return to the start of the test, in addition to the 'vai' button.
    (Complexity: 20)
5.  **Content Review:** L2ES and L3ES lessons need a thorough review and rework due to pedagogical and content errors.
    (Complexity: 30 for implementation)
6.  **Bug Fix:** In L2 - causativoES and L3 - passivo avanzatoES (fase 2), all clicked answers are incorrectly marked as wrong (red).
    (Complexity: 20)
7.  **Answer Explanations:** Answers should include a clear demonstration of the correct solution, not just an explanation.
    (Complexity: 20 for implementation)
8.  **Save Naming Convention:** Fix the save functionality to use the format `LX save [date]` (e.g., `L3 save 2025-07-29`) instead of the generic 'exercise-save-state'.
    (Complexity: 40)
9.  **Save/Load Functionality:** The save and load buttons for the verbs and grammar tests are not working, although save-states appear functional.
    (Complexity: 60)
10. **Settings UI:** Add a 'Loaded Save Display' to the settings page to show both the current save-state and the most recently loaded file save.
    (Complexity: 50)
    10b. **Settings UI:** Add a 'Reset All Saves' option below the 'Loaded Save Display'.
    (Complexity: 40)
11. **Content Removal:** Remove the placeholder 'Periodo Ipotetico' content. - COMPLETED
    (Complexity: 10)
12. **Homepage Layout:** Reorganize the homepage into a four-column layout: Lessons, LessonsAN, Exercises, Tests and More. - COMPLETED
    (Complexity: 50)
13. **Notepad Feature:** Add a 'Notepad' page to the 'Tests and More' column for free-form note-taking.
    (Complexity: 60)
14. **Patch Notes Page:** Add a page to display patch notes from a local file, sorted from most to least recent.
    (Complexity: 50)
15. **Folder Restructuring:** Create a new 'others' folder and move the test, patch notes, and notepad HTML files into it. - COMPLETED
    (Complexity: 30)

<div class="content-container p-6 md-p-10" 
     data-page-id="L5ES-Modo-e-Irrealta" 
     data-module="interactive-exercise">

    <!-- 1. Header Section (Standardized) -->
    <header class="content-header bg-white rounded-lg shadow-lg p-6 mb-8">
        <h1 id="page-title" class="text-3xl font-bold text-slate-900">Esercizi Pratici: Modo e Irrealtà</h1>
        <p id="page-subtitle" class="text-lg text-slate-600 mt-2">Metti in pratica la teoria con esercizi mirati.</p>
        <div class="mt-4 pt-4 border-t border-slate-200 bg-slate-50 -m-6 p-6 pb-4 text-sm text-slate-600 space-y-3">
            <h3 class="font-semibold text-slate-800">Come usare questa pagina:</h3>
            <ul class="list-disc list-inside space-y-1">
                <li><strong>Salvataggio Automatico:</strong> I tuoi progressi (risposte e note) vengono salvati costantemente.</li>
                <li><strong>Pulsanti di Navigazione:</strong> Utilizza i pulsanti sulla barra degli strumenti per navigare tra le schede, salvare e caricare i progressi o ripristinare l'esercizio.</li>
            </ul>
        </div>
    </header>

    <!-- 2. Main Content Area (to be populated by the hydrator) -->
    <main id="content-body" class="content-body bg-white rounded-lg shadow-lg p-6 md:p-8">
        <!-- The exercise-handler.js will populate this area -->
    </main>

    <!-- 3. Data Island (Standardized) -->
    <script type="application/json" id="page-data">
    {
        "title": "Esercizi Pratici: Modo e Irrealtà",
        "subtitle": "Scenario: Crisi al Progetto \"Odyssey\"",
        "blocks": [
            {
                "name": "Fase 1",
                "exercises": [
                    { "type": "true-false", "question": "The project manager insists that all team members attend the emergency meeting.", "answer": true, "explanation": "Corretto. Dopo 'insists that', si usa la forma base 'attend'." },
                    { "type": "true-false", "question": "If the client would have been informed earlier, this crisis could have been avoided.", "answer": false, "explanation": "Errato. La if-clause del terzo condizionale usa il Past Perfect: 'If the client had been informed...'" },
                    { "type": "true-false", "question": "It is essential that a new deadline is established immediately.", "answer": false, "explanation": "Errato. Dopo 'It is essential that', si usa il congiuntivo passivo: '...a new deadline be established...'" },
                    { "type": "true-false", "question": "Had we known about the bug, we would have fixed it.", "answer": true, "explanation": "Corretto. È la forma inversa del terzo condizionale." },
                    { "type": "true-false", "question": "The CEO demanded that the team leader explains the reason for the delay.", "answer": false, "explanation": "Errato. Dopo 'demanded that', si usa la forma base: '...the team leader explain...'" },
                    { "type": "true-false", "question": "If we had more resources, we wouldn't be in this situation now.", "answer": true, "explanation": "Corretto. È un condizionale misto (tipo 2 -> 2, presente irreale -> presente irreale)." },
                    { "type": "true-false", "question": "I suggest that the marketing team prepares a new communication strategy.", "answer": false, "explanation": "Errato. Dopo 'suggest that', si usa la forma base: '...the marketing team prepare...'" },
                    { "type": "true-false", "question": "If the initial testing had been more thorough, these problems would not have arisen.", "answer": true, "explanation": "Corretto. È un terzo condizionale." },
                    { "type": "true-false", "question": "It is vital that the client not be contacted until we have a solution.", "answer": true, "explanation": "Corretto. È la forma negativa del congiuntivo passivo." },
                    { "type": "true-false", "question": "Should you need more information, the project lead is available.", "answer": true, "explanation": "Corretto. È la forma inversa di un condizionale formale (tipo 1)." },
                    { "type": "true-false", "question": "The board recommended that the project is put on hold.", "answer": false, "explanation": "Errato. Dopo 'recommended that', si usa il congiuntivo passivo: '...the project be put on hold...'" },
                    { "type": "true-false", "question": "If I would have been the project manager, I would have allocated more budget.", "answer": false, "explanation": "Errato. La if-clause del terzo condizionale usa il Past Perfect: 'If I had been...'" },
                    { "type": "true-false", "question": "It is important that every team member understands their role in this phase.", "answer": false, "explanation": "Errato. Dopo 'It is important that', si usa la forma base: '...every team member understand...'" },
                    { "type": "true-false", "question": "If the supplier hadn't delayed the shipment, we would be on schedule now.", "answer": true, "explanation": "Corretto. È un condizionale misto (tipo 3 -> 2)." },
                    { "type": "true-false", "question": "The legal team requires that all communications are approved by them first.", "answer": false, "explanation": "Errato. Dopo 'requires that', si usa il congiuntivo passivo: '...all communications be approved...'" },
                    { "type": "true-false", "question": "Had the risk assessment been more accurate, we would have been better prepared.", "answer": true, "explanation": "Corretto. È la forma inversa del terzo condizionale." },
                    { "type": "true-false", "question": "The manager proposed that a new developer is hired to help.", "answer": false, "explanation": "Errato. Dopo 'proposed that', si usa il congiuntivo passivo: '...a new developer be hired...'" },
                    { "type": "true-false", "question": "If the server hadn't crashed, we wouldn't have lost the data.", "answer": true, "explanation": "Corretto. È un terzo condizionale." },
                    { "type": "true-false", "question": "It is imperative that the system be restored as soon as possible.", "answer": true, "explanation": "Corretto. È il congiuntivo passivo." },
                    { "type": "true-false", "question": "If the team would have worked overtime, they might have met the deadline.", "answer": false, "explanation": "Errato. La if-clause del terzo condizionale usa il Past Perfect: 'If the team had worked...'" },
                    { "type": "true-false", "question": "The client requested that he be kept informed of all developments.", "answer": true, "explanation": "Corretto. È il congiuntivo passivo." },
                    { "type": "true-false", "question": "If we had known about his experience, we would have assigned him to the task.", "answer": true, "explanation": "Corretto. È un terzo condizionale." },
                    { "type": "true-false", "question": "The quality assurance lead insists that the software is not ready for launch.", "answer": false, "explanation": "Errato. Dopo 'insists that', si usa la forma base: '...the software be not ready...' o più comunemente '...the software not be ready...'" },
                    { "type": "true-false", "question": "If the budget had been larger, we could have hired more senior developers.", "answer": true, "explanation": "Corretto. È un terzo condizionale con 'could have'." },
                    { "type": "true-false", "question": "It is advisable that the team takes a short break.", "answer": false, "explanation": "Errato. Dopo 'It is advisable that', si usa la forma base: '...the team take...'" },
                    { "type": "true-false", "question": "Had the client not changed the requirements, the project would have been finished.", "answer": true, "explanation": "Corretto. È la forma inversa negativa del terzo condizionale." },
                    { "type": "true-false", "question": "The CTO suggested that the team uses a different programming language.", "answer": false, "explanation": "Errato. Dopo 'suggested that', si usa la forma base: '...the team use...'" },
                    { "type": "true-false", "question": "If the problem had been detected earlier, the damage would have been less severe.", "answer": true, "explanation": "Corretto. È un terzo condizionale." },
                    { "type": "true-false", "question": "It is crucial that all changes are documented properly.", "answer": false, "explanation": "Errato. Dopo 'It is crucial that', si usa il congiuntivo passivo: '...all changes be documented...'" },
                    { "type": "true-false", "question": "If I had had more time, I would have double-checked the calculations.", "answer": true, "explanation": "Corretto. Il doppio 'had' nel Past Perfect è corretto." }
                ]
            },
            {
                "name": "Fase 2",
                "exercises": [
                    { "type": "multiple-choice", "question": "The CEO demanded that the project manager ________ a full report on the issues.", "options": ["prepares", "to prepare", "prepare", "prepared"], "answer": "prepare", "explanation": "Dopo 'demanded that', si usa la forma base 'prepare'." },
                    { "type": "multiple-choice", "question": "If the marketing team ________ the campaign on time, we wouldn't be facing this media backlash now.", "options": ["launched", "had launched", "would have launched", "would launch"], "answer": "had launched", "explanation": "È un condizionale misto (tipo 3 -> 2). La if-clause richiede il Past Perfect." },
                    { "type": "multiple-choice", "question": "It is vital that every line of code ________ before the patch is deployed.", "options": ["is reviewed", "be reviewed", "was reviewed", "to be reviewed"], "answer": "be reviewed", "explanation": "Dopo 'It is vital that', si usa il congiuntivo passivo 'be reviewed'." },
                    { "type": "multiple-choice", "question": "________ the bug earlier, they would have saved weeks of work.", "options": ["If they would have found", "If they found", "Had they found", "Should they find"], "answer": "Had they found", "explanation": "È la forma inversa del terzo condizionale." },
                    { "type": "multiple-choice", "question": "The lead developer suggested that the team ________ a different approach to the problem.", "options": ["tries", "try", "to try", "tried"], "answer": "try", "explanation": "Dopo 'suggested that', si usa la forma base 'try'." },
                    { "type": "multiple-choice", "question": "If the original project plan had been more realistic, we ________ this much pressure now.", "options": ["wouldn't feel", "wouldn't have felt", "wouldn't be feeling", "wouldn't had felt"], "answer": "wouldn't be feeling", "explanation": "Condizionale misto (tipo 3 -> 2). L'uso del continuo è più naturale per descrivere uno stato attuale." },
                    { "type": "multiple-choice", "question": "It is imperative that the client ________ about the new delay until we have a recovery plan.", "options": ["not be informed", "is not informed", "not to be informed", "doesn't be informed"], "answer": "not be informed", "explanation": "È la forma negativa del congiuntivo passivo." },
                    { "type": "multiple-choice", "question": "We would have stayed on budget if the supplier ________ their prices unexpectedly.", "options": ["wouldn't have raised", "didn't raise", "hadn't raised", "wouldn't raise"], "answer": "hadn't raised", "explanation": "La if-clause del terzo condizionale richiede il Past Perfect." },
                    { "type": "multiple-choice", "question": "The manager insists that a backup of the database ________ made every night.", "options": ["is", "to be", "were", "be"], "answer": "be", "explanation": "Dopo 'insists that', si usa il congiuntivo passivo 'be made'." },
                    { "type": "multiple-choice", "question": "If the team ________ better, this miscommunication would not have happened.", "options": ["would have communicated", "had communicated", "communicated", "has communicated"], "answer": "had communicated", "explanation": "La if-clause del terzo condizionale richiede il Past Perfect." },
                    { "type": "multiple-choice", "question": "The board requires that all project expenses ________ by the CFO.", "options": ["are approved", "to be approved", "be approved", "were approved"], "answer": "be approved", "explanation": "Dopo 'requires that', si usa il congiuntivo passivo 'be approved'." },
                    { "type": "multiple-choice", "question": "We would be in a much better position now if we ________ to the expert's advice in the first place.", "options": ["had listened", "would have listened", "listened", "would listen"], "answer": "had listened", "explanation": "Condizionale misto (tipo 3 -> 2). La if-clause richiede il Past Perfect." },
                    { "type": "multiple-choice", "question": "It is important that the team ________ motivated despite these setbacks.", "options": ["stays", "to stay", "stay", "stayed"], "answer": "stay", "explanation": "Dopo 'It is important that', si usa la forma base 'stay'." },
                    { "type": "multiple-choice", "question": "________ more time, we would have implemented the additional features the client wanted.", "options": ["If we would have had", "Had we had", "If we had", "Should we have had"], "answer": "Had we had", "explanation": "È la forma inversa del terzo condizionale, con il doppio 'had' corretto." },
                    { "type": "multiple-choice", "question": "The client has requested that he ________ in all future technical meetings.", "options": ["is included", "to be included", "were included", "be included"], "answer": "be included", "explanation": "Dopo 'requested that', si usa il congiuntivo passivo 'be included'." },
                    { "type": "multiple-choice", "question": "If the lead programmer ________ sick last week, we would probably be on schedule now.", "options": ["didn't get", "wouldn't have gotten", "hadn't gotten", "wouldn't get"], "answer": "hadn't gotten", "explanation": "Condizionale misto (tipo 3 -> 2). La if-clause richiede il Past Perfect." },
                    { "type": "multiple-choice", "question": "It's a good idea that the whole team ________ on the recovery plan.", "options": ["collaborates", "to collaborate", "collaborate", "collaborated"], "answer": "collaborate", "explanation": "Dopo 'It's a good idea that', si usa la forma base 'collaborate'." },
                    { "type": "multiple-choice", "question": "The project would have been a success if the market conditions ________ so drastically.", "options": ["wouldn't have changed", "didn't change", "hadn't changed", "wouldn't change"], "answer": "hadn't changed", "explanation": "La if-clause del terzo condizionale richiede il Past Perfect." },
                    { "type": "multiple-choice", "question": "The new regulations require that our software ________ fully compliant by January.", "options": ["is", "to be", "were", "be"], "answer": "be", "explanation": "Dopo 'require that', si usa la forma base 'be'." },
                    { "type": "multiple-choice", "question": "If we ________ the risks more accurately, we would have chosen a different strategy.", "options": ["would have assessed", "had assessed", "assessed", "have assessed"], "answer": "had assessed", "explanation": "La if-clause del terzo condizionale richiede il Past Perfect." },
                    { "type": "multiple-choice", "question": "The manager proposed that a new risk assessment ________ conducted immediately.", "options": ["is", "to be", "were", "be"], "answer": "be", "explanation": "Dopo 'proposed that', si usa il congiuntivo passivo 'be conducted'." },
                    { "type": "multiple-choice", "question": "I would have helped the junior developer if he ________ me he was struggling.", "options": ["would have told", "had told", "told", "would tell"], "answer": "had told", "explanation": "La if-clause del terzo condizionale richiede il Past Perfect." },
                    { "type": "multiple-choice", "question": "It is essential that the final product ________ all the client's requirements.", "options": ["meets", "to meet", "meet", "met"], "answer": "meet", "explanation": "Dopo 'It is essential that', si usa la forma base 'meet'." },
                    { "type": "multiple-choice", "question": "If the server ________, we would not be dealing with this data loss now.", "options": ["wasn't crashing", "wouldn't have crashed", "hadn't crashed", "didn't crash"], "answer": "hadn't crashed", "explanation": "Condizionale misto (tipo 3 -> 2). La if-clause richiede il Past Perfect." },
                    { "type": "multiple-choice", "question": "The CEO's directive insists that all departments ________ their spending by 10%.", "options": ["reduce", "reduces", "to reduce", "reduced"], "answer": "reduce", "explanation": "Dopo 'insists that', si usa la forma base 'reduce'." },
                    { "type": "multiple-choice", "question": "We could have prevented this disaster if we ________ the warning signs.", "options": ["would have noticed", "had noticed", "noticed", "would notice"], "answer": "had noticed", "explanation": "La if-clause del terzo condizionale richiede il Past Perfect." },
                    { "type": "multiple-choice", "question": "The situation is critical. It is imperative that we ________ a solution within 24 hours.", "options": ["find", "finds", "to find", "found"], "answer": "find", "explanation": "Dopo 'It is imperative that', si usa la forma base 'find'." },
                    { "type": "multiple-choice", "question": "If the project ________ on time, the company would have secured a major new contract.", "options": ["would have been delivered", "had been delivered", "was delivered", "has been delivered"], "answer": "had been delivered", "explanation": "La if-clause del terzo condizionale passivo richiede il Past Perfect Passivo." },
                    { "type": "multiple-choice", "question": "The committee recommended that the project ________ until the budget issues are resolved.", "options": ["is paused", "be paused", "was paused", "to be paused"], "answer": "be paused", "explanation": "Dopo 'recommended that', si usa il congiuntivo passivo 'be paused'." },
                    { "type": "multiple-choice", "question": "We are facing a serious crisis. If we ________ this project, our company's reputation would be damaged.", "options": ["would have failed", "had failed", "were to fail", "have failed"], "answer": "were to fail", "explanation": "È una forma più formale del secondo condizionale per eventi futuri improbabili ma gravi." }
                ]
            },
            {
                "name": "Fase 3",
                "exercises": [
                    { "type": "fill-in-the-blank", "prompt": "The manager insists that the team ________ overtime to meet the new deadline.", "answer": "work", "explanation": "Dopo 'insists that', si usa la forma base 'work'." },
                    { "type": "fill-in-the-blank", "prompt": "Situazione: The team didn't follow the plan, so they missed the deadline.", "question": "Riscrivi la frase iniziando con 'If'.", "answer": "If the team had followed the plan, they wouldn't have missed the deadline.", "explanation": "Terzo condizionale: If + Past Perfect, ...would have + P.P." },
                    { "type": "fill-in-the-blank", "prompt": "It is essential that the project budget ________ not be exceeded.", "answer": "do", "explanation": "La forma negativa è 'do not be exceeded', ma in questo caso 'not be exceeded' è la forma più comune e corretta." },
                    { "type": "fill-in-the-blank", "prompt": "Situazione: We didn't know about the server vulnerability, so we didn't patch it.", "question": "Riscrivi la frase iniziando con 'Had'.", "answer": "Had we known about the server vulnerability, we would have patched it.", "explanation": "Inversione del terzo condizionale: Had + soggetto + P.P." },
                    { "type": "fill-in-the-blank", "prompt": "Situazione: We didn't invest in training last year. Now, our team lacks the necessary skills.", "question": "If we had invested in training last year, our team ________ the necessary skills now.", "answer": "would have", "explanation": "Condizionale misto (tipo 3 -> 2)." },
                    { "type": "fill-in-the-blank", "prompt": "The client requires that he ________ a daily progress report.", "answer": "be sent", "explanation": "Dopo 'requires that', si usa il congiuntivo passivo 'be sent'." },
                    { "type": "fill-in-the-blank", "prompt": "Situazione: The lead developer got sick. The project was delayed.", "question": "The project would not have been delayed if the lead developer ________ sick.", "answer": "hadn't gotten", "explanation": "Terzo condizionale: if + Past Perfect." },
                    { "type": "fill-in-the-blank", "prompt": "The consultant recommended that the company ________ its project management methodology.", "answer": "change", "explanation": "Dopo 'recommended that', si usa la forma base 'change'." },
                    { "type": "fill-in-the-blank", "prompt": "Situazione: The client didn't approve the designs, so the work stopped.", "question": "Riscrivi la frase iniziando con 'Had'.", "answer": "Had the client approved the designs, the work wouldn't have stopped.", "explanation": "Inversione del terzo condizionale." },
                    { "type": "fill-in-the-blank", "prompt": "Situazione: I didn't take that programming course. Now, I don't understand this code.", "question": "If I had taken that programming course, I ________ this code.", "answer": "would understand", "explanation": "Condizionale misto (tipo 3 -> 2)." },
                    { "type": "fill-in-the-blank", "prompt": "It is imperative that all communications with the client ________ professional.", "answer": "be", "explanation": "Dopo 'It is imperative that', si usa la forma base 'be'." },
                    { "type": "fill-in-the-blank", "prompt": "Situazione: The market didn't react well, so the project's funding was cut.", "question": "Riscrivi la frase iniziando con 'If'.", "answer": "If the market had reacted well, the project's funding wouldn't have been cut.", "explanation": "Terzo condizionale." },
                    { "type": "fill-in-the-blank", "prompt": "He proposed that the meeting ________ postponed until next week.", "answer": "be", "explanation": "Dopo 'proposed that', si usa il congiuntivo passivo 'be postponed'." },
                    { "type": "fill-in-the-blank", "prompt": "Situazione: The team wasn't prepared for the presentation, so it went badly.", "question": "Riscrivi la frase iniziando con 'Had'.", "answer": "Had the team been prepared for the presentation, it wouldn't have gone badly.", "explanation": "Inversione del terzo condizionale." },
                    { "type": "fill-in-the-blank", "prompt": "Situazione: The company didn't buy the new servers. Now, the system is very slow.", "question": "If the company had bought the new servers, the system ________ so slow now.", "answer": "wouldn't be", "explanation": "Condizionale misto (tipo 3 -> 2)." },
                    { "type": "fill-in-the-blank", "prompt": "The regulations require that all data ________ encrypted.", "answer": "be", "explanation": "Dopo 'require that', si usa il congiuntivo passivo 'be encrypted'." },
                    { "type": "fill-in-the-blank", "prompt": "Situazione: The bug wasn't fixed. The system crashed.", "question": "The system wouldn't have crashed if the bug ________.", "answer": "had been fixed", "explanation": "Terzo condizionale passivo." },
                    { "type": "fill-in-the-blank", "prompt": "It is important that the client ________ that we are in control of the situation.", "answer": "feel", "explanation": "Dopo 'It is important that', si usa la forma base 'feel'." },
                    { "type": "fill-in-the-blank", "prompt": "Situazione: The manager didn't listen to the team's concerns, so the problems got worse.", "question": "Riscrivi la frase iniziando con 'Had'.", "answer": "Had the manager listened to the team's concerns, the problems wouldn't have gotten worse.", "explanation": "Inversione del terzo condizionale." },
                    { "type": "fill-in-the-blank", "prompt": "Situazione: I didn't save my work. Now, I have to start over.", "question": "If I had saved my work, I ________ to start over now.", "answer": "wouldn't have", "explanation": "Condizionale misto (tipo 3 -> 2)." }
                ]
            }
        ]
    }
    </script>
</div>

<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Esercizi Pratici: I Passivi Avanzati</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Source+Code+Pro:wght@400;600&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f1f5f9; /* bg-slate-200 */
        }
        .key-rule {
            background-color: #eef2ff; /* bg-indigo-50 */
            color: #4338ca; /* text-indigo-800 */
            padding: 2px 6px;
            border-radius: 4px;
            font-weight: 600;
        }
        .tab-active {
            border-bottom: 2px solid #4f46e5; /* border-indigo-600 */
            color: #4f46e5; /* text-indigo-600 */
            font-weight: 600;
        }
        .tab-inactive {
            color: #64748b; /* text-slate-500 */
            border-bottom: 2px solid transparent;
        }
        .tab-btn:hover {
            color: #334155; /* text-slate-700 */
        }
        .feedback-correct {
            background-color: #f0fdf4; /* bg-green-50 */
            color: #166534; /* text-green-800 */
        }
        .feedback-incorrect {
            background-color: #fef2f2; /* bg-red-50 */
            color: #b91c1c; /* text-red-800 */
        }
        code, .font-mono {
            font-family: 'Source Code Pro', monospace;
        }
        .notes-content {
            transition: max-height 0.3s ease-in-out;
            max-height: 500px;
            overflow: hidden;
        }
        .notes-content.hidden {
            max-height: 0;
        }
    </style>
</head>
<body class="text-slate-800">

    <div class="container mx-auto p-4 md:p-10 max-w-7xl">

        <!-- Header -->
        <div class="bg-white rounded-lg shadow-lg overflow-hidden mb-8">
            <header class="p-6 md:p-8">
                <h1 class="text-3xl font-bold text-slate-900">Esercizi Pratici: I Passivi Avanzati</h1>
                <p class="text-lg text-slate-600 mt-1">Metti in pratica la teoria con esercizi mirati.</p>
            </header>
            <div class="p-6 border-t border-slate-200 bg-slate-50 text-sm text-slate-600 space-y-3">
                <h3 class="font-semibold text-slate-800">Come usare questa pagina:</h3>
                <ul class="list-disc list-inside space-y-1">
                    <li><strong>Salvataggio Automatico:</strong> I tuoi progressi (risposte e note) vengono salvati costantemente.</li>
                    <li><strong>Pulsanti di Navigazione:</strong> Utilizza i pulsanti sulla barra degli strumenti per navigare tra le schede, salvare e caricare i progressi o ripristinare l'esercizio.</li>
                </ul>
            </div>
        </div>

        <!-- Main Content -->
        <div class="bg-white rounded-lg shadow-lg overflow-hidden">
            <!-- Tabs -->
            <div class="border-b border-slate-200 flex justify-between items-center px-6">
                <nav class="flex flex-wrap sm:flex-nowrap space-x-2 md:space-x-6" aria-label="Tabs">
                    <button data-tab="1" id="tab-block-1" class="tab-btn py-4 px-2 md:px-4 text-sm font-medium tab-active">Fase 1: Comprensione</button>
                    <button data-tab="2" id="tab-block-2" class="tab-btn py-4 px-2 md:px-4 text-sm font-medium tab-inactive">Fase 2: Riconoscimento</button>
                    <button data-tab="3" id="tab-block-3" class="tab-btn py-4 px-2 md:px-4 text-sm font-medium tab-inactive">Fase 3: Produzione</button>
                </nav>
                <div id="go-to-container" class="flex items-center text-sm">
                    <label for="jump-to" class="text-slate-600 mr-2">Vai a:</label>
                    <input type="number" id="jump-to" class="w-20 border-slate-300 rounded-md shadow-sm text-sm" min="1">
                    <button id="jump-btn" class="ml-2 px-3 py-1 bg-indigo-500 text-white rounded-md hover:bg-indigo-600 text-sm">Vai</button>
                </div>
            </div>

            <!-- Tab Content -->
            <div class="p-6 md:p-8">
                <div id="test-view">
                    <form id="diagnostic-form" class="p-0">
                        <div id="questions-container"></div>
                        <div id="submission-area" class="mt-8 text-center"></div>
                    </form>
                </div>
            </div>
        </div>

        <section id="diagnostics-view" class="hidden">
            <div class="bg-white rounded-lg shadow-lg overflow-hidden">
                <header class="p-6 flex justify-between items-center bg-slate-50 border-b border-slate-200">
                    <h2 class="text-2xl font-bold text-slate-800">Performance Diagnostics</h2>
                    <button id="back-to-review-btn" class="bg-slate-600 hover:bg-slate-700 text-white font-bold py-2 px-4 rounded-lg transition-colors duration-300 shadow-md">
                        &larr; Back to Test Review
                    </button>
                </header>
                <div class="p-6">
                    <div class="mb-6 border-b border-slate-200">
                        <nav class="flex flex-wrap -mb-px" aria-label="Tabs">
                            <button id="diag-tab-overall" data-tab="overall" class="diag-tab-btn mr-6 py-3 px-1 text-sm font-medium tab-inactive" disabled>Overall</button>
                            <button id="diag-tab-block-a" data-tab="block-a" class="diag-tab-btn mr-6 py-3 px-1 text-sm font-medium tab-inactive" disabled>Fase 1</button>
                            <button id="diag-tab-block-b" data-tab="block-b" class="diag-tab-btn mr-6 py-3 px-1 text-sm font-medium tab-inactive" disabled>Fase 2</button>
                            <button id="diag-tab-block-c" data-tab="block-c" class="diag-tab-btn mr-6 py-3 px-1 text-sm font-medium tab-inactive" disabled>Fase 3</button>
                        </nav>
                    </div>
                    <div id="diag-content-overall" class="diag-content hidden">
                        <div class="chart-container relative w-full mx-auto h-[28rem]"> <canvas id="overallChart"></canvas> </div>
                    </div>
                    <div id="diag-content-block-a" class="diag-content hidden">
                         <div class="chart-container relative w-full mx-auto h-[28rem]"> <canvas id="blockAChart"></canvas> </div>
                    </div>
                    <div id="diag-content-block-b" class="diag-content hidden">
                         <div class="chart-container relative w-full mx-auto h-[28rem]"> <canvas id="blockBChart"></canvas> </div>
                    </div>
                    <div id="diag-content-block-c" class="diag-content hidden">
                         <div class="chart-container relative w-full mx-auto h-[28rem]"> <canvas id="blockCChart"></canvas> </div>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <script id="exercise-data" type="application/json">
        {
            "testData": [
                { "block": 1, "displayNum": "C1-1", "section": "Fase 1: Comprensione", "category": "Comprensione", "type": "mc", "question": "The manager insisted that everyone <code>attends</code> the meeting.", "choices": ["Vero", "Falso"], "answer": "B", "explanation": "Dopo 'insisted that', si usa la forma base. Corretta: <i>...<code>attend</code>...</i>" },
                { "block": 1, "displayNum": "C1-2", "section": "Fase 1: Comprensione", "category": "Comprensione", "type": "mc", "question": "It is essential that she <code>be</code> informed immediately.", "choices": ["Vero", "Falso"], "answer": "A", "explanation": "Corretto. 'be informed' è il congiuntivo passivo." },
                { "block": 1, "displayNum": "C1-3", "section": "Fase 1: Comprensione", "category": "Comprensione", "type": "mc", "question": "I suggest that he <code>takes</code> a break.", "choices": ["Vero", "Falso"], "answer": "B", "explanation": "Dopo 'suggest that', si usa la forma base. Corretta: <i>...he <code>take</code>...</i>" },
                { "block": 1, "displayNum": "C1-4", "section": "Fase 1: Comprensione", "category": "Comprensione", "type": "mc", "question": "The board requested that the report <code>is</code> submitted by Friday.", "choices": ["Vero", "Falso"], "answer": "B", "explanation": "Dopo 'requested that', si usa il congiuntivo passivo. Corretta: <i>...report <code>be submitted</code>...</i>" },
                { "block": 1, "displayNum": "C1-5", "section": "Fase 1: Comprensione", "category": "Comprensione", "type": "mc", "question": "They ask that he <code>not be</code> late.", "choices": ["Vero", "Falso"], "answer": "A", "explanation": "Corretto. La forma negativa del congiuntivo è 'not' + forma base." },
                { "block": 1, "displayNum": "C1-6", "section": "Fase 1: Comprensione", "category": "Comprensione", "type": "mc", "question": "The doctor recommended that I <code>should stop</code> smoking.", "choices": ["Vero", "Falso"], "answer": "B", "explanation": "In US English, 'should' è ridondante. Corretta: <i>...that I <code>stop</code>...</i>" },
                { "block": 1, "displayNum": "C1-7", "section": "Fase 1: Comprensione", "category": "Comprensione", "type": "mc", "question": "It's important that they <code>understand</code> the risks.", "choices": ["Vero", "Falso"], "answer": "A", "explanation": "Corretto. 'understand' è la forma base." },
                { "block": 1, "displayNum": "C1-8", "section": "Fase 1: Comprensione", "category": "Comprensione", "type": "mc", "question": "He demanded that his lawyer <code>was</code> present.", "choices": ["Vero", "Falso"], "answer": "B", "explanation": "Dopo 'demanded that', si usa la forma base. Corretta: <i>...lawyer <code>be</code> present.</i>" },
                { "block": 1, "displayNum": "C1-9", "section": "Fase 1: Comprensione", "category": "Comprensione", "type": "mc", "question": "I propose that the committee <code>reviews</code> the proposal again.", "choices": ["Vero", "Falso"], "answer": "B", "explanation": "Dopo 'propose that', si usa la forma base. Corretta: <i>...committee <code>review</code>...</i>" },
                { "block": 1, "displayNum": "C1-10", "section": "Fase 1: Comprensione", "category": "Comprensione", "type": "mc", "question": "Her boss requires that she <code>complete</code> the project.", "choices": ["Vero", "Falso"], "answer": "A", "explanation": "Corretto. 'complete' è la forma base." },
                { "block": 1, "displayNum": "C1-11", "section": "Fase 1: Comprensione", "category": "Comprensione", "type": "mc", "question": "It is vital that the equipment <code>be maintained</code> properly.", "choices": ["Vero", "Falso"], "answer": "A", "explanation": "Corretto. 'be maintained' è il congiuntivo passivo." },
                { "block": 1, "displayNum": "C1-12", "section": "Fase 1: Comprensione", "category": "Comprensione", "type": "mc", "question": "The judge ordered that the prisoner <code>was released</code>.", "choices": ["Vero", "Falso"], "answer": "B", "explanation": "Dopo 'ordered that', si usa il congiuntivo passivo. Corretta: <i>...prisoner <code>be released</code>.</i>" },
                { "block": 1, "displayNum": "C1-13", "section": "Fase 1: Comprensione", "category": "Comprensione", "type": "mc", "question": "I suggest that she <code>not worry</code> so much.", "choices": ["Vero", "Falso"], "answer": "A", "explanation": "Corretto. 'not worry' è la forma negativa." },
                { "block": 1, "displayNum": "C1-14", "section": "Fase 1: Comprensione", "category": "Comprensione", "type": "mc", "question": "It is necessary that he <code>finds</code> a new job.", "choices": ["Vero", "Falso"], "answer": "B", "explanation": "Dopo 'it is necessary that', si usa la forma base. Corretta: <i>...he <code>find</code>...</i>" },
                { "block": 1, "displayNum": "C1-15", "section": "Fase 1: Comprensione", "category": "Comprensione", "type": "mc", "question": "The rules require that every student <code>wears</code> a uniform.", "choices": ["Vero", "Falso"], "answer": "B", "explanation": "Dopo 'require that', si usa la forma base. Corretta: <i>...student <code>wear</code>...</i>" },
                { "block": 1, "displayNum": "C1-16", "section": "Fase 1: Comprensione", "category": "Comprensione", "type": "mc", "question": "I move that the meeting <code>be adjourned</code>.", "choices": ["Vero", "Falso"], "answer": "A", "explanation": "Corretto. 'move that' è un modo formale per fare una proposta, seguito dal congiuntivo." },
                { "block": 1, "displayNum": "C1-17", "section": "Fase 1: Comprensione", "category": "Comprensione", "type": "mc", "question": "Her parents insisted that she <code>studied</code> medicine.", "choices": ["Vero", "Falso"], "answer": "B", "explanation": "Dopo 'insisted that', si usa la forma base. Corretta: <i>...she <code>study</code>...</i>" },
                { "block": 1, "displayNum": "C1-18", "section": "Fase 1: Comprensione", "category": "Comprensione", "type": "mc", "question": "We ask that you <code>not to touch</code> the exhibits.", "choices": ["Vero", "Falso"], "answer": "B", "explanation": "La forma negativa non usa 'to'. Corretta: <i>...you <code>not touch</code>...</i>" },
                { "block": 1, "displayNum": "C1-19", "section": "Fase 1: Comprensione", "category": "Comprensione", "type": "mc", "question": "It is crucial that we <code>are</code> on time.", "choices": ["Vero", "Falso"], "answer": "B", "explanation": "Dopo 'it is crucial that', si usa la forma base. Corretta: <i>...we <code>be</code> on time.</i>" },
                { "block": 1, "displayNum": "C1-20", "section": "Fase 1: Comprensione", "category": "Comprensione", "type": "mc", "question": "The professor demanded that the paper <code>be handed</code> in.", "choices": ["Vero", "Falso"], "answer": "A", "explanation": "Corretto. 'be handed in' è il congiuntivo passivo." },
                { "block": 2, "displayNum": "C2-1", "section": "Fase 2: Riconoscimento", "category": "Riconoscimento", "type": "mc", "question": "The committee recommends that the proposal ______ rejected.", "choices": ["is", "be", "to be", "was"], "answer": "B", "explanation": "Dopo 'recommends that', si usa il congiuntivo passivo 'be' + participio passato." },
                { "block": 2, "displayNum": "C2-2", "section": "Fase 2: Riconoscimento", "category": "Riconoscimento", "type": "mc", "question": "I insist that he ______ us an apology.", "choices": ["offer", "offers", "offered", "to offer"], "answer": "A", "explanation": "Dopo 'insist that', si usa la forma base del verbo." },
                { "block": 2, "displayNum": "C2-3", "section": "Fase 2: Riconoscimento", "category": "Riconoscimento", "type": "mc", "question": "It is vital that you ______ calm.", "choices": ["to remain", "remains", "remain", "remaining"], "answer": "C", "explanation": "Dopo 'it is vital that', si usa la forma base del verbo." },
                { "block": 2, "displayNum": "C2-4", "section": "Fase 2: Riconoscimento", "category": "Riconoscimento", "type": "mc", "question": "The manager demanded that the work ______ by 5 PM.", "choices": ["is finished", "were finished", "be finished", "finishing"], "answer": "C", "explanation": "Dopo 'demanded that', si usa il congiuntivo passivo 'be finished'." },
                { "block": 2, "displayNum": "C2-5", "section": "Fase 2: Riconoscimento", "category": "Riconoscimento", "type": "mc", "question": "She suggests that we ______ the meeting.", "choices": ["not postpone", "don't postpone", "not to postpone", "not postponing"], "answer": "A", "explanation": "La forma negativa del congiuntivo è 'not' + forma base." },
                { "block": 2, "displayNum": "C2-6", "section": "Fase 2: Riconoscimento", "category": "Riconoscimento", "type": "mc", "question": "The law requires that every citizen ______. (A) votes (B) to vote (C) vote (D) voted)", "choices": ["votes", "to vote", "vote", "voted"], "answer": "C", "explanation": "Dopo 'requires that', si usa la forma base." },
                { "block": 2, "displayNum": "C2-7", "section": "Fase 2: Riconoscimento", "category": "Riconoscimento", "type": "mc", "question": "It is crucial that the hostages ______. (A) not be harmed (B) are not harmed (C) not to be harmed (D) weren't harmed)", "choices": ["not be harmed", "are not harmed", "not to be harmed", "weren't harmed"], "answer": "A", "explanation": "La forma negativa del congiuntivo passivo è 'not be' + participio." },
                { "block": 2, "displayNum": "C2-8", "section": "Fase 2: Riconoscimento", "category": "Riconoscimento", "type": "mc", "question": "He asked that his name ______ from the list.", "choices": ["was removed", "being removed", "be removed", "is removed"], "answer": "C", "explanation": "Dopo 'asked that', si usa il congiuntivo passivo." },
                { "block": 2, "displayNum": "C2-9", "section": "Fase 2: Riconoscimento", "category": "Riconoscimento", "type": "mc", "question": "It's important that she ______ the truth.", "choices": ["knows", "know", "to know", "knew"], "answer": "B", "explanation": "Dopo 'it's important that', si usa la forma base." },
                { "block": 2, "displayNum": "C2-10", "section": "Fase 2: Riconoscimento", "category": "Riconoscimento", "type": "mc", "question": "I propose that a new chairman ______. (A) be elected (B) is elected (C) was elected (D) to be elected)", "choices": ["be elected", "is elected", "was elected", "to be elected"], "answer": "A", "explanation": "Dopo 'propose that', si usa il congiuntivo passivo." }
            ],
            "testData": [
                { "block": 3, "displayNum": "C3-1", "section": "Fase 3: Produzione", "category": "Produzione", "type": "input_rewrite", "question": "The team must finish the project.<br><em>(Riscrivi: The manager insisted...)</em>", "answer": "that the team finish the project", "explanation": "La struttura è 'insisted that' + soggetto + forma base." },
                { "block": 3, "displayNum": "C3-2", "section": "Fase 3: Produzione", "category": "Produzione", "type": "input_rewrite", "question": "You should not be late.<br><em>(Riscrivi: It is important...)</em>", "answer": "that you not be late", "explanation": "La struttura è 'it is important that' + soggetto + 'not' + forma base." },
                { "block": 3, "displayNum": "C3-3", "section": "Fase 3: Produzione", "category": "Produzione", "type": "input_rewrite", "question": "The report needs to be submitted by Monday.<br><em>(Riscrivi: The CEO requires...)</em>", "answer": "that the report be submitted by Monday", "explanation": "La struttura è 'requires that' + soggetto + congiuntivo passivo ('be submitted')." },
                { "block": 3, "displayNum": "C3-4", "section": "Fase 3: Produzione", "category": "Produzione", "type": "input_rewrite", "question": "I think we should cancel the meeting.<br><em>(Riscrivi: My suggestion is...)</em>", "answer": "that we cancel the meeting", "explanation": "Anche dopo 'my suggestion is', si usa 'that' + soggetto + forma base." },
                { "block": 3, "displayNum": "C3-5", "section": "Fase 3: Produzione", "category": "Produzione", "type": "input_rewrite", "question": "All employees must attend the training.<br><em>(Riscrivi: The company mandates...)</em>", "answer": "that all employees attend the training", "explanation": "La struttura è 'mandates that' + soggetto + forma base." }
            ]
        }
    </script>
</body>
</html>
